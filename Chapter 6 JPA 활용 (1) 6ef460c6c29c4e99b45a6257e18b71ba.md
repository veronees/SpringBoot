# Chapter 6. JPA í™œìš© (1)

- ì¦‰ì‹œë¡œë”©, N+1 ë¬¸ì œ, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸, JPQL, QueryDSL

# ğŸ“Â í•™ìŠµ ëª©í‘œ

---

1. ì¦‰ì‹œ ë¡œë”©ê³¼ ì§€ì—° ë¡œë”©ì˜ ì „ëµ ì°¨ì´ì— ëŒ€í•´ ì•Œì•„ë³´ê³ , ì§€ì—° ë¡œë”©ì„ ì±„íƒí•˜ëŠ” ì´ìœ ì— ëŒ€í•´ ì´í•´í•œë‹¤.
2. JPQLê³¼ QueryDSLì˜ ì°¨ì´ì— ëŒ€í•´ ì´í•´í•œë‹¤.

# ğŸ“¸ ì ê¹ ! ìŠ¤í„°ë”” ì¸ì¦ìƒ·ì€ ì°ìœ¼ì…¨ë‚˜ìš”?ğŸ“¸

---

* ìŠ¤í„°ë””ë¦¬ë”ê»˜ì„œ ëŒ€í‘œë¡œ ë§¤ ì£¼ì°¨ë§ˆë‹¤ í•œ ì¥ ë‚¨ê²¨ì£¼ì‹œë©´ ì¢‹ê² ìŠµë‹ˆë‹¤!ğŸ™†ğŸ’—
 (ì‚¬ì§„ì„ ì €ì¥í•´ì„œ ì´ë¯¸ì§€ ì„ë² ë“œë¥¼ í•˜ì…”ë„ ì¢‹ê³ , ë³µì‚¬+ë¶™ì—¬ë„£ê¸°í•´ì„œ ë„£ì–´ì£¼ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤!)

[https://www.notion.so](https://www.notion.so)

# ğŸ“‘ 6ì£¼ì°¨ ì£¼ì œ

ì´ë²ˆ ì£¼ì°¨ëŠ” ì €ë²ˆ 5ì£¼ì°¨ì˜ ì—°ì¥ì„ , ì‹¬í™”ë²„ì „ì…ë‹ˆë‹¤â€¼ï¸

ì˜¤ëŠ˜ì€ JPAì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ê°œë…, JPQLê³¼ QueryDSLì˜ ì°¨ì´ì , ê·¸ë¦¬ê³  QueryDSLì´ ê°€ì§€ëŠ” ìœ ë¦¬í•¨ì— ëŒ€í•´ ì•Œì•„ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤. 

# Spring Data JPA ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸

## ğŸŒŸ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(Persistence Context)ë€?

ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë€, **ë°ì´í„°(ì—”í‹°í‹° ê°ì²´)ë¥¼ ì˜êµ¬ì (persistent)ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ì¼ì¢…ì˜ ë©”ëª¨ë¦¬ ê³µê°„**ì…ë‹ˆë‹¤. ORM, ì¦‰ ê°ì²´ì™€  RDB ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ë§¤í•‘í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” JPAì—ì„œ ì•„ì£¼ í•µì‹¬ì ì¸ ë…€ì„ì´ì£ . 

ì¼ì¢…ì˜ **ìºì‹œ ë©”ëª¨ë¦¬ë¼ê³  ìƒê°**í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

DBì— ìˆëŠ” ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ, êµ³ì´ ì§ì ‘ DBê¹Œì§€ ê°€ì§€ ì•Šì•„ë„ ìºì‹œ ë©”ëª¨ë¦¬ì— ìˆëŠ” ë°ì´í„°ë¼ë©´ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ 1ì°¨ì ìœ¼ë¡œ ìºì‹œì— ë°ì´í„°ê°€ ìˆëŠ”ì§€ ì‚´í”¼ì£ . ê·¸ë¦¬ê³  ë‚˜ì„œ missê°€ ì¼ì–´ë‚˜ë©´, ê·¸ì œì„œì•¼ DBì— ê°€ì„œ ë°ì´í„°ë¥¼ ëŒì–´ì˜µë‹ˆë‹¤.

ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë„ ë§ˆì°¬ê°€ì§€ë¼ê³  ìƒê°í•˜ì‹œë©´ ë¼ìš”. 

ë¨¼ì € ìµœì´ˆë¡œ ì—”í‹°í‹°ì— ì ‘ê·¼í•˜ë©´, DBì—ì„œ ëŒì–´ì˜¨ ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡í•´ì¤ë‹ˆë‹¤. 

ì´í›„ì— Spring Data JPAì—ì„œ ***Repository ì¸í„°í˜ì´ìŠ¤*** ë¥¼ í†µí•˜ì—¬ ê°™ì€ ì—”í‹°í‹°ì— ì ‘ê·¼í•˜ë©´, DBì— ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ëŠ” ê²Œ ì•„ë‹Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê²Œ ë˜ëŠ” ê±°ì£ .

JPAì—ì„œëŠ” í…Œì´ë¸”ê³¼ ë§¤í•‘í•´ì£¼ëŠ” ì—”í‹°í‹° ê°ì²´ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ë¶€ì—ì„œ ì˜¤ë˜ ì§€ì†ë˜ë„ë¡ ë•ìŠµë‹ˆë‹¤.

**JPAë¥¼ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥**ë˜ê³ , ê·¸ ì•ˆì—ì„œ ë¬¸ë§¥ì (contextual)ìœ¼ë¡œ í•˜ë‚˜ì˜ ìƒíƒœë¥¼ ìœ ì§€í•˜ë©´ì„œ, ì—¬ëŸ¬ ê¸°ëŠ¥ì„ í•  ìˆ˜ ìˆê²Œ í•˜ì£ .

ë‹¤ì‹œ ë§í•´, ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì—ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê°€ìƒì˜ ë°ì´í„°ë² ì´ìŠ¤ ê°™ì€ ì—­í• ì„ í•©ë‹ˆë‹¤. 

<aside>
ğŸ‘Œ

`@EntityManager`ì„ ì´ìš©í•˜ì—¬ ì ‘ê·¼í•©ë‹ˆë‹¤ â€¼ï¸

</aside>

### Why ì˜ì†â“ğŸ§

ì´ì¯¤ ë˜ì‹œë©´ ì˜ë¬¸ì´ ë“œì‹¤ê²ë‹ˆë‹¤. ì™œ ê°ì²´ë¥¼ ê´€ë¦¬í•  ë•Œ â€˜ì˜ì†â€™ ìƒíƒœì„ì´ ì¢‹ì€ ê±¸ê¹Œìš”?

ê°ì²´ê°€ â€˜ì˜ì†â€™ ìƒíƒœì´ë©´, ë‹¤ìŒê³¼ ê°™ì´ í¬ê²Œ 3ê°€ì§€ ì¥ì ì„ ì§€ë‹™ë‹ˆë‹¤.

<aside>
ğŸ”¥

- **1ì°¨ ìºì‹œ**
- **ë³€ê²½ ê°ì§€**
- **ì§€ì—° ë¡œë”©**
</aside>

ì§€ê¸ˆê¹Œì§€ ì‚´í´ë³´ì•˜ë˜ ìºì‹œ ë©”ëª¨ë¦¬ì˜ ì—­í•  ë¿ë§Œ ì•„ë‹ˆë¼ EntityManagerì€ ì—¬ëŸ¬ ê°€ì§€ ì¥ì ì„ ê°€ì§€ëŠ”ë°ìš”.

ë‹¤ìŒì€ ë³€ê²½ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ëŠ” ê¸°ëŠ¥(Dirty Checking)ì…ë‹ˆë‹¤.

### EntityManagerì˜ ë³€ê²½ ê°ì§€(Dirty Checking)

ì˜ˆì‹œ í•˜ë‚˜ ì‚´í´ë³¼ê²Œìš”.

`Member` ê°ì²´ì˜ ì´ë¦„ í•„ë“œê°’ì„ ìˆ˜ì •í•˜ëŠ” ë¡œì§ì´ ìˆë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤.

`Member` ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì•ˆì— ìˆëŠ” ê°ì²´ê² ì£ ?

íŠ¸ëœì­ì…˜ì´ ëë‚  ë•Œ, JPAëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ë‚´ë¶€ì—ì„œ ë³€ê²½ëœ ë‚´ìš©ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  DBì— UPDATE ì¿¼ë¦¬ë¥¼ ë‚ ë ¤ ìˆ˜ì •ëœ ë‚´ìš©ì„ ë˜‘ë˜‘í•˜ê²Œ ë°˜ì˜í•©ë‹ˆë‹¤.

```java
// EntityManagerì„ í†µí•´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼í•œë‹¤.
@EntityManager em = entityManagerFactory.createEntityManager();
em.getTransaction().begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

// ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ìµœì´ˆ ì €ì¥: EntityManagerì„ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ì¡°íšŒí•˜ê³ , ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•œë‹¤.
Member member = em.find(Member.class, 1L);

// 1ì°¨ ìºì‹œ: DBì— ì¿¼ë¦¬ ë°œìƒí•˜ì§€ ì•Šê³ , 1ì°¨ ìºì‹œë¥¼ ì´ìš©í•˜ì—¬ ë™ì¼ ê°ì²´ë¥¼ ë°˜í™˜í•´ì¤€ë‹¤.
Member sameMember = em.find(Member.class, 1L); 

// í•´ë‹¹ ë©¤ë²„ ê°ì²´ì˜ í•„ë“œê°’ ìˆ˜ì •
member.setName("UMC7ê¸°ìµœê³ "); // ì´ ì‹œì ì—ì„œëŠ” ì•„ì§ DBì— ì €ì¥ë˜ì§€ ì•Šì€ ìƒíƒœ

// íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œ, ë¹„ë¡œì†Œ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë˜ì–´ DBê°€ ì—…ë°ì´íŠ¸ ëœë‹¤.
em.getTransaction().commit();

```

ë°”ë¡œ ìˆœì„œê°€ ì¡°ê¸ˆ ë’¤ë°”ë€ ì±„ ì‚´í´ë³¸ ì§€ì—° ë¡œë”©(Lazy Loading)ì…ë‹ˆë‹¤.

## ì§€ì—° ë¡œë”©(FetchType.LAZY)

### ì¦‰ì‹œ ë¡œë”©(**FetchType.EAGER**) VS ì§€ì—° ë¡œë”©(**FetchType.LAZY**)

- **ì¦‰ì‹œ ë¡œë”©(FetchType.EAGER)**

---

ì¦‰ì‹œ ë¡œë”©ì€ `MemberPrefer`ê³¼ `Member`, `FoodCategory` ëª¨ë‘ë¥¼ ì‹¤ì œ DBì—ì„œ â€˜ì¦‰ì‹œâ€™ í•œ ë²ˆì— ì¡°íšŒí•˜ì—¬, í•˜ë‚˜ì˜ ì¿¼ë¦¬ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤**.**

```java
@Entity
@Getter
@Builder
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@AllArgsConstructor
public class MemberPrefer extends BaseEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    **@ManyToOne(fetch = FetchType.EAGER)**
    @JoinColumn(name = "member_id")
    private Member member;

    **@ManyToOne(fetch = FetchType.EAGER)**
    @JoinColumn(name = "category_id")
    private FoodCategory foodCategory;

}
```

ì¦‰, MemberPreferì„ ì¡°íšŒí•  ë•Œ Member, FoodCategoryë„ í•œ ë°©ì— ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ëŠ” ë°©ë²•ì…ë‹ˆë‹¤! 

ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë”°ë¼, MemberPreferì„ ì¡°íšŒí•  ë•Œ Memberë„ ì¡°íšŒí•´ì•¼ í•œë‹¤ë©´, FetchTypeì„ EAGERë¡œ ì„¤ì •í•´ì•¼ê² ì£ ? ğŸ˜‰

- **ì§€ì—° ë¡œë”©(FetchType.LAZY)**

---

**ğŸŒŸ ì§€ì—° ë¡œë”©ì€ DBê°€ ì•„ë‹Œ í”„ë¡ì‹œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤â€¼ï¸**

ì§€ì—° ë¡œë”©ì€ `MemberPrefer`ê³¼ `Member`, `FoodCategory`ì´ ê°ê° ë¶„ë¦¬ë˜ì–´ `MemberPrefer`ì€ DBë¥¼, `Member` ë° `FoodCategory` ì€ í”„ë¡ì‹œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

```java
@Entity
@Getter
@Builder
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@AllArgsConstructor
public class MemberPrefer extends BaseEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    **@ManyToOne(fetch = FetchType.LAZY)**
    @JoinColumn(name = "member_id")
    private Member member;

    **@ManyToOne(fetch = FetchType.LAZY)**
    @JoinColumn(name = "category_id")
    private FoodCategory foodCategory;

}
```

ì¦‰, MemberPreferì„ ì¡°íšŒí•  ë•Œ, Memberê³¼ FoodCategory ë¥¼ êµ³ì´ ì¡°íšŒí•  í•„ìš”ê°€ ì—†ë‹¤ë©´ ë¶„ë¦¬í•˜ì—¬ ì¡°íšŒí•˜ëŠ” ì§€ì—° ë¡œë”© ë°©ë²•ì„ ì‚¬ìš©í•©ì‹œë‹¤ğŸ‘

**ê°€ê¸‰ì  ì§€ì—° ë¡œë”©ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.**

- ì¦‰ì‹œ ë¡œë”©ì€ JPQLì—ì„œ **N+1 ë¬¸ì œ**ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤ â€¼ï¸

## N+1 ë¬¸ì œ

**N+1 ë¬¸ì œ**ëŠ” RDBì™€ ê°ì²´ ì§€í–¥ì˜ íŒ¨ëŸ¬ë‹¤ì„ ê°„ê·¹ì— ì˜í•´ ë°œìƒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤. 1ê°œì˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œ í›„ì—, ê´€ë ¨ëœ Nê°œì˜ ë°ì´í„°ë¥¼ ê°ê° ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ì¶”ê°€ì ìœ¼ë¡œ Në²ˆì˜ ë¶ˆí•„ìš”í•œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ì–´ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.

ê°ì²´ëŠ” ì—°ê´€ ê´€ê³„ë¥¼ í†µí•´ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ë©”ëª¨ë¦¬ ë‚´ì—ì„œÂ **Random Access**ë¥¼ í†µí•´ ì—°ê´€ ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆì§€ë§Œ, RDBì˜ ê²½ìš°Â **SELECT ì¿¼ë¦¬**ë¥¼ í†µí•´ì„œë§Œ ì¡°íšŒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, íšŒì› ì—”í‹°í‹°ì™€ ê·¸ íšŒì›ì´ ì¢‹ì•„í•˜ëŠ” ë©”ë‰´ ëª©ë¡ì¸ `memberPreferList` ê°€ ìˆë‹¤ê³  í•´ë´…ì‹œë‹¤. ì¦‰, `member` ê³¼ `memberPreferList` ëŠ” 1:N ê´€ê³„ì…ë‹ˆë‹¤.

```java
public class Member {
	
	  @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    ...(ì¤‘ëµ)...
	
	  **@OneToMany(mappedBy = "member", fetch = FetchType.EAGER)
    private List<MemberPrefer> memberPreferList = new ArrayList<>();**
    
    ...(ì¤‘ëµ)...
    
}
```

**ìœ„ì˜ ì½”ë“œì²˜ëŸ¼ ì¦‰ì‹œ ë¡œë”© ë°©ì‹(EAGER)ì„ ì±„íƒí•œ ìƒíƒœì—ì„œ, JpaRepositoryë¥¼ ìƒì†ë°›ì€ MemberRepositoryì—ì„œ findAll() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?**

```java
SELECT * FROM member;
SELECT * FROM member_prefer WHERE member_id = ?;
```

JPQL ì¿¼ë¦¬ëŠ” ì´ë ‡ê²Œ â€˜ë™ì‹œì—â€™ ë‚ ì•„ê°ˆ ê²ë‹ˆë‹¤. ë§Œì•½ `Member` ì—”í‹°í‹°ê°€ ì—¬ëŸ¬ ê°œì˜ `MemberPrefer` ì—”í‹°í‹°ë¥¼ ì§€ë‹ˆê³  ìˆë‹¤ë©´, ì—°ê´€ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” 2ë²ˆì§¸ ì¿¼ë¦¬ ê³¼ì •ì—ì„œ N+1 ë¬¸ì œê°€ ì¼ì–´ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

100ëª…ì˜ `Member` ì„ ì¡°íšŒí•˜ëŠ” ê²½ìš°, ê° `Member` ì— ëŒ€í•´ ì¶”ê°€ì ì¸ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ë¯€ë¡œ ì´ 101ë²ˆì˜ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

**ë°˜ë©´ì—, ì§€ì—° ë¡œë”©ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ì–´ë–¨ê¹Œìš”?**ğŸ§

ì§€ì—° ë¡œë”©ì´ ì„¤ì •ë˜ì–´ìˆëŠ” ê²½ìš°, findAll() ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´, ê¸°ë³¸ì ìœ¼ë¡œ `Member` ì—”í‹°í‹°ë§Œ ë¨¼ì € ì¡°íšŒí•©ë‹ˆë‹¤. 

```sql
SELECT * FROM member;
```

ì—°ê´€ëœ `MemberPrefer` ì—”í‹°í‹°ëŠ” í•´ë‹¹ ì—”í‹°í‹°ì— ì ‘ê·¼í•˜ëŠ” ì‹œì ì— ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ê²ë‹ˆë‹¤. 

```sql
SELECT * FROM member_prefer WHERE member_id = ?;
```

ê·¸ëŸ¬ë©´ ë¶ˆí•„ìš”í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ í•„ìš” ì—†ì´, í•„ìš”í•œ ì‹œì ì—ë§Œ ì—°ê´€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê² ì£ . ë”°ë¼ì„œ ì¦‰ì‹œ ë¡œë”©ì— ë¹„í•´ í˜„ì €íˆ ì„±ëŠ¥ì— ëŒ€í•œ ìµœì í™”ê°€ ê°€ëŠ¥í•œ ê²ë‹ˆë‹¤ â€¼ï¸â€¼ï¸â˜ºï¸

# JPQL

ì§€ë‚œ 5ì£¼ì°¨ ë•Œ **ê°ì²´ ì§€í–¥ ì–¸ì–´ì¸** **ìë°”ì™€ RDBì˜ íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ë¬¸ì œ**ì— ëŒ€í•´ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤.

ì´ëŸ° ê°€ìš´ë° ë“±ì¥í•œ ê²ƒì´ **JPQL**, ìš” ë…€ì„ì´ë¼ê³  ì•Œì•„ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

JPQLì€ JPAì˜ ì¼ë¶€ë¡œ, ì¿¼ë¦¬ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì´ ì•„ë‹Œ JPA ì—”í‹°í‹°, ì¦‰ â€™ê°ì²´â€˜ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì‘ì„±í•˜ëŠ” ê°ì²´ ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ì…ë‹ˆë‹¤.

- ì¦‰, SQLì²˜ëŸ¼ ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ ì‘ìš©í•œë‹¤ëŠ” ê¸°ë³¸ ì»¨ì…‰ì€ ê°€ì ¸ê°€ë©´ì„œ, ê°ì²´ ì§€í–¥ì ì¸ íŠ¹ì„±ì„ ë°˜ì˜í•œ ì¿¼ë¦¬ë¥¼ ë‚ ë¦´ ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ê²ƒì´ JPQLì´ë¼ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤â€¼ï¸

## JPQL ì‚¬ìš©í•˜ê¸°: repository ì¸í„°í˜ì´ìŠ¤

JPQLì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” 

[1] Native SQLê³¼ ë³‘í–‰ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë©°, íŠ¸ëœì­ì…˜ ê´€ë¦¬, ì—”í‹°í‹° ì‘ì—… ê´€ë¦¬ì— íƒì›”í•œ **EntityManager ì¸í„°í˜ì´ìŠ¤**
*[2] ê°„ê²°í•¨ê³¼ ì¼ê´€ì„± ìœ ì§€ì— íƒì›”í•œ **repository ì¸í„°í˜ì´ìŠ¤***

2ê°€ì§€ ì„ íƒì§€ê°€ ìˆëŠ”ë°, ì €í¬ ì›Œí¬ë¶ì—ì„œëŠ” Spring Data JPAì—ì„œ ë” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì¸ **[2] repository ì¸í„°í˜ì´ìŠ¤**ë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.

repository ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ JPQLì„ ë‚ ë¦¬ëŠ” ë°©ë²•ì€ í¬ê²Œ 2ê°€ì§€ê°€ ìˆëŠ”ë°, ì§€ê¸ˆë¶€í„° í•˜ë‚˜ ì”© ì°¨ê·¼ì°¨ê·¼ ì•Œì•„ë³´ì•„ìš”ğŸ‘

ì˜ˆì‹œë¡œ, ì €ë²ˆ 5ì£¼ì°¨ ì‹¤ìŠµ ì‹œê°„ì— ì‘ì„±í•˜ì˜€ë˜ Member ì—”í‹°í‹°ë¥¼ ì‚´í´ë´…ì‹œë‹¤.

```java

@Entity
@Getter
@Builder
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@AllArgsConstructor
public class Member extends BaseEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false, length = 20)
    private String name;

    @Column(nullable = false, length = 40)
    private String address;

    @Column(nullable = false, length = 40)
    private String specAddress;

    @Enumerated(EnumType.STRING)
    @Column(columnDefinition = "VARCHAR(10)")
    private Gender gender;

    @Enumerated(EnumType.STRING)
    private SocialType socialType;

    @Enumerated(EnumType.STRING)
    @Column(columnDefinition = "VARCHAR(15) DEFAULT 'ACTIVE'")
    private MemberStatus status;

    private LocalDate inactiveDate;

    @Column(nullable = false, length = 50)
    private String email;

    private Integer point;

    @OneToMany(mappedBy = "member", cascade = CascadeType.ALL)
    private List<MemberAgree> memberAgreeList = new ArrayList<>();

    @OneToMany(mappedBy = "member", cascade = CascadeType.ALL)
    private List<MemberPrefer> memberPreferList = new ArrayList<>();

    @OneToMany(mappedBy = "member", cascade = CascadeType.ALL)
    private List<Review> reviewList = new ArrayList<>();

    @OneToMany(mappedBy = "member", cascade = CascadeType.ALL)
    private List<MemberMission> memberMissionList = new ArrayList<>();
}
```

ì´ëŸ° `Member` ì—”í‹°í‹°ë¥¼ ê°€ì§€ê³ ,

> ***â€˜ë² ë‰´â€™ë¼ëŠ” ì´ë¦„ì„ ê°€ì§€ë©°, `ACTIVE` (í™œì„±í™”) ìƒíƒœì¸ íšŒì›ì„ ì¡°íšŒí•˜ê³  ì‹¶ë‹¤ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìˆë‹¤ê³  í•©ì‹œë‹¤.***
> 

1. **ë©”ì„œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„±** 
- Spring Data JPAëŠ” ë©”ì„œë“œ ì´ë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤.
- ì¦‰, ìš°ë¦¬ì˜ ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ â€˜ì´ë¦„â€™ ê³¼ â€˜ìƒíƒœâ€™ë¥¼ ì¡°ê±´ìœ¼ë¡œ ë‚´ì„¸ìš´, `findByNameAndStatus` ë¼ëŠ” ë©”ì„œë“œ ì´ë¦„ì„ ì •ì˜í•˜ë©´
    
     `name` í•„ë“œì™€ `status` ë¥¼ ë™ì‹œì— ì¡°ê±´ìœ¼ë¡œ í•˜ëŠ” JPQL ì¿¼ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    

```java
public interface MemberRepository extends JpaRepository<Member, Long> {
    List<Member> findByNameAndStatus(String name, MemberStatus status);
}
```

```java
List<Member> member = memberRepository.findByNameAndStatus("ë² ë‰´", MemberStatus.ACTIVE);
```

ì¦‰, ì´ë ‡ê²Œ ë˜ë©´ Spring Data JPAëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ë¥¼ ìë™ì ìœ¼ë¡œ ì‹¤í–‰í•´ì¤€ë‹¤ëŠ” ê±°ì£ !

```java
SELECT * FROM member WHERE name = 'ë² ë‰´' AND status = 'ACTIVE';
```

1. **`@Query` ì–´ë…¸í…Œì´ì…˜** 
- JPQLì„ ì§ì ‘ ì‘ì„±í•˜ëŠ” ë°©ë²•
- ë” ë³µì¡í•œ ì¡°ê±´ì´ë‚˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ í•„ìš”í•œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ë•Œ ìœ ë¦¬í•©ë‹ˆë‹¤.

```java
public interface MemberRepository extends JpaRepository<Member, Long> {

    @Query("SELECT m FROM Member m WHERE m.name = :name AND m.status = :status")
    List<Member> findByNameAndStatus(@Param("name") String name, @Param("status") MemberStatus status);
}
```

`@Query` ì–´ë…¸í…Œì´ì…˜ì„ í™œìš©í•˜ì—¬ ì´ë¦„ê³¼ ìƒíƒœë¥¼ ì¡°ê±´ìœ¼ë¡œ ì¡°íšŒí•˜ëŠ” JPQL ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê³ , 

`@Param` ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ JPQL ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë˜ëŠ” `:name` ê³¼ `:status` íŒŒë¼ë¯¸í„°ë¥¼ ë©”ì„œë“œì˜ ì¸ìì™€ ì—°ê²°í•©ë‹ˆë‹¤.

# QueryDSL

- **íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥**í•˜ëŠ” **ìë°” ê¸°ë°˜ì˜ ì¿¼ë¦¬ ë¹Œë” ë¼ì´ë¸ŒëŸ¬ë¦¬** ì…ë‹ˆë‹¤.
- QueryDSLì€ ì½”ë“œ ê¸°ë°˜ì˜ ì¿¼ë¦¬ ë¹Œë”ë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì—, ì»´íŒŒì¼ ì‹œì ì— ì¿¼ë¦¬ì˜ ì˜¤ë¥˜ë¥¼ ì¡ì„ ìˆ˜ ìˆìœ¼ë©° ë™ì  ì¿¼ë¦¬ ì‘ì„±ì´ í¸ë¦¬í•˜ê³ , ë©”ì„œë“œ ì²´ì´ë‹ì„ í†µí•œ ë³µì¡í•œ ì¿¼ë¦¬ ì‘ì„±ì— ìœ ë¦¬í•©ë‹ˆë‹¤.

### ì—¬ê¸°ì„œ ì ê¹â€¼ï¸ ë™ì  ì¿¼ë¦¬ê°€ ë¬´ì—‡ì¼ê¹Œìš”ğŸ§

---

- ë™ì  ì¿¼ë¦¬ë€, ì‹¤í–‰ ì‹œì ì— ì¿¼ë¦¬ì˜ ì¼ë¶€ê°€ ë³€ê²½ë  ìˆ˜ ìˆëŠ” ì¿¼ë¦¬ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ì¿¼ë¦¬ì˜ ì¡°ê±´ (`WHERE` ì ˆì— í•´ë‹¹í•˜ëŠ”)í˜¹ì€ êµ¬ì¡°ê°€ ìœ ë™ì ìœ¼ë¡œ ì¡°ì •ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ë•Œ ë™ì  ì¿¼ë¦¬ì˜ ì‚¬ìš©ì´ ì¤‘ìš”í•´ì§‘ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ë³¼ê¹Œìš”?

ìš°ë¦¬ì˜ í”„ë¡œì íŠ¸ì—ì„œ í•œ ë²ˆ ì°¾ì•„ë´…ì‹œë‹¤.

ì‚¬ìš©ìê°€ ê°€ê²Œë¥¼ ì°¾ìœ¼ë ¤ê³  í•  ë•Œ, ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” **searchStore(String name, Float score)** ë©”ì„œë“œë¥¼ ìƒê°í•´ë³´ìêµ¬ìš”.

ê·¸ë¦¬ê³  ìš”êµ¬ì‚¬í•­ì—ëŠ” ì´ 3ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

1. **ì‚¬ìš©ìê°€ íŒŒë¼ë¯¸í„°ë¥¼ ë„£ì§€ ì•Šì€ ê²½ìš°**
2. **ì‚¬ìš©ìê°€ ê°€ê²Œ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰í•œ ê²½ìš°**
3. **ì‚¬ìš©ìê°€ ê°€ê²Œì™€ í‰ì ì´ 4.0 ì´ìƒì¸ ê³³ë§Œ ê²€ìƒ‰í•œ ê²½ìš°** 

```sql
select * from store;
```

```sql
select * from store where name = "ìš”ì•„ì •";
```

```sql
select * from store where name = "ìš”ì•„ì •" and score >= 4.0;
```

## [ì‹¤ìŠµ] QueryDSL ì ìš©í•˜ê¸°

**1ï¸âƒ£ QueryDSL ê¸°ë³¸ ì„¤ì •**

---

QueryDSLì„ ì‚¬ìš©í•˜ë ¤ë©´ **Q í´ë˜ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ê¸° ìœ„í•œ ì„¤ì •**ì´ í•„ìš”í•œë°ìš”â€¼ï¸

ì²˜ìŒ ì ‘í•˜ì‹œëŠ” ë¶„ë“¤ì€ JPQLì— ë¹„í•´ ì˜¤íˆë ¤ ê¹Œë‹¤ë¡­ë‹¤ê³  ëŠê»´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

ë¨¼ì € QueryDSLì„ í™œì„±í™”í•˜ê¸° ìœ„í•´, ì €í¬ ì‹¤ìŠµ í”„ë¡œì íŠ¸ì˜ build.gradle íŒŒì¼ì— ë‹¤ìŒê³¼ í”ŒëŸ¬ê·¸ì¸ê³¼ ì¢…ì†ì„±ì„ ëª…ì‹œí•´ì¤„ê²Œìš”.

```java
plugins {
	id 'java'
	id 'org.springframework.boot' version '3.0.0'
	id 'io.spring.dependency-management' version '1.0.15.RELEASE'
	id "com.ewerk.gradle.plugins.querydsl" version "1.0.10"
}

group = 'com.example'
version = '1.0.0'
sourceCompatibility = '17'

repositories {
	mavenCentral()
}

dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-web'
	implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
	implementation 'org.hibernate.orm:hibernate-core:6.0.2.Final'  // Hibernate 6.0.2 ì´ìƒ
	implementation 'mysql:mysql-connector-java:8.0.33'  // MySQL ë“œë¼ì´ë²„ ì¶”ê°€

	// queryDSL
	implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'
	annotationProcessor "com.querydsl:querydsl-apt:5.0.0:jakarta"
	annotationProcessor "jakarta.annotation:jakarta.annotation-api"
	annotationProcessor "jakarta.persistence:jakarta.persistence-api"

	implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.3'
	implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.3'
	implementation 'com.fasterxml.jackson.core:jackson-core:2.13.3'

	compileOnly 'org.projectlombok:lombok:1.18.22'
	annotationProcessor 'org.projectlombok:lombok:1.18.22'

	implementation 'org.hibernate:hibernate-core:5.6.9.Final'

	implementation 'org.springdoc:springdoc-openapi-ui:1.6.9'
	implementation 'org.springdoc:springdoc-openapi-data-rest:1.6.9'

	testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

sourceSets {
	main {
		java {
			srcDirs = ['src/main/java', 'src/main/resources']
		}
	}
}

tasks.named('test') {
	useJUnitPlatform()
}

// Querydsl ì„¤ì •ë¶€
def generated = 'src/main/generated'

querydsl {
	jpa = true
	querydslSourcesDir = generated
}
sourceSets {
	main.java.srcDir generated
}

compileQuerydsl{
	options.annotationProcessorPath = configurations.querydsl
}

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
	querydsl.extendsFrom compileClasspath
}
```

**2ï¸âƒ£ Q í´ë˜ìŠ¤ ìƒì„±**

build.gradle ì— í•´ë‹¹ QueryDSLì„ ìœ„í•œ í”ŒëŸ¬ê·¸ì¸ê³¼ ì¢…ì†ì„± ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´, ì €í¬ê°€ ì‘ì„±í•œ ê° ì—”í‹°í‹°ì— ëŒ€í•´ Q í´ë˜ìŠ¤ê°€ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.

ì•„ê¹Œ ì €í¬ëŠ” Q í´ë˜ìŠ¤ë¥¼ ìœ„í•œ ë””ë ‰í† ë¦¬ë¥¼ `src/main/generated` ë¡œ í•´ì£¼ì—ˆìœ¼ë‹ˆ í•´ë‹¹ ê²½ë¡œì— í˜„ì¬ ê° ì—”í‹°í‹°ë§ˆë‹¤ í´ë˜ìŠ¤ê°€ ì‘ì„±ëœ ê²Œ ë³´ì´ì‹œì£ ?

![image.png](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/aa6c69d6-2195-44be-857b-29cc873c3c56.png)

ì €í¬ëŠ” ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ íšŒì› ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•´ì•¼ í•˜ë‹ˆ, `Member` ì—”í‹°í‹°ì— ëŒ€í•œ `QMember` í´ë˜ìŠ¤ë„ ìë™ìœ¼ë¡œ ìƒì„±ì´ ì˜ ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•´ë‹¹ `QMember` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬, QueryDSLë¡œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê²Œ ë©ë‹ˆë‹¤ â€¼ï¸

3ï¸âƒ£ **QueryDSL ì„¤ì •íŒŒì¼ ë§Œë“¤ê¸°**

ë³¸ê²©ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê¸° ì „ì—, QueryDSL ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.

- QueryDSLì„ ì‚¬ìš©í•˜ë ¤ë©´, `JPAQueryFactory` ë¥¼ í†µí•˜ì—¬ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.

ë”°ë¼ì„œ `JPAQueryFactory` ë¥¼ Beanìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ê² ì£ ?

- **`umc/study/config/QueryDSLConfig`**

![image.png](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/image.png)

```java
@Configuration
@RequiredArgsConstructor
public class QueryDSLConfig {
		private final EntityManager entityManager;
		
		@Bean
		public JPAQueryFactory jpaQueryFactory(){
			return new JPAQueryFactory(entityManager);
		}
}
```

**4ï¸âƒ£QueryDSL ì¿¼ë¦¬ ì‘ì„±**

---

ë™ì  ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì—ëŠ” í¬ê²Œ [1] BooleanBuilderì™€

[2] Where ë‹¤ì¤‘ íŒŒë¼ë¯¸í„° ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤.

- **BooleanBuilderì€ QueryDSLì—ì„œ ì—¬ëŸ¬ ê°œì˜ ì¡°ê±´ì„ ì¡°í•©í•˜ê¸° ìœ„í•´ ì œê³µë˜ëŠ” ë¹Œë” í´ë˜ìŠ¤ì…ë‹ˆë‹¤.**
    - ì¦‰, ì—¬ëŸ¬ ì¡°ê±´ì„ ë™ì ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆê¸° ë•Œë¬¸ì— `name` ì´ë‚˜ `score` íŒŒë¼ë¯¸í„°ê°€ ìˆëŠ”ì§€ì— ëŒ€í•œ ì—¬ë¶€ë¥¼ ë°˜ì˜í•˜ì—¬ ì¡°ê±´ì´ ë©ë‹ˆë‹¤.
    - `.and()` ë‚˜ `.or()` ë“±ì˜ ê°„ë‹¨í•œ ë…¼ë¦¬ ì—°ì‚°ìœ¼ë¡œ Whereë¬¸ì— ì¡°ê±´ì„ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
    ```java
    private List<Store> DynamicQueryWithBooleanBuilder(String name, Float score) {
    
        BooleanBuilder predicate = new BooleanBuilder();
    
        if (name != null) {
            predicate.and(store.name.eq(name));
        }
    
        if (score != null) {
            predicate.and(store.age.goe(4.0f));
        }
    
        return queryFactory
                .selectFrom(store)
                .where(predicate)
                .fetch();
    
    }
    ```
    

ê·¸ëŸ¼ ì´ì œ ì§ì ‘ ì‹¤ìŠµì„ í•´ë³´ë©´ì„œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ë´…ì‹œë‹¤!

![image.png](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/image%201.png)

ë¨¼ì €, `Repository` íŒ¨í‚¤ì§€ì— ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ `StoreRepository` ë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”.

ë„¤ì´ë°ì€ `StoreRepository` ë¡œ, Store ê´€ë ¨ `repository` ì¸í„°í˜ì´ìŠ¤ë“¤ê³¼ êµ¬í˜„ í´ë˜ìŠ¤ë“¤ì„ ë‹´ì€ íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤.

![image.png](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/image%202.png)

ê¸°ì¡´ì˜ StoreRepositoryë¥¼ ë°©ê¸ˆ ë§Œë“  íŒ¨í‚¤ì§€ ë°‘ì— ìœ„ì¹˜í•´ì£¼ì‹œê³ , ìƒˆë¡œìš´ ì»¤ìŠ¤í…€ ì¸í„°í˜ì´ìŠ¤ì¸ `StoreRepositoryCustom` ì„ ìƒì„±í•´ì¤ë‹ˆë‹¤.

- `StoreRepositoryCustom.java(interface)`

---

```java
package umc.study.repository.StoreRepository;

import umc.study.domain.Store;

import java.util.List;

public interface StoreRepositoryCustom {
    List<Store> dynamicQueryWithBooleanBuilder(String name, Float score);
}
```

- `StoreRepositoryImpl.java`

---

ê·¸ë¦¬ê³  ë°©ê¸ˆ ì»¤ìŠ¤í…€í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ì€ êµ¬í˜„ì²´ í´ë˜ìŠ¤ì¸ `StoreRepositoryImpl` ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

BooleanBuilderì„ ì´ìš©í•´ì„œ ì‘ì„±í•˜ì‹œë©´ ë¼ìš” ğŸ‘

```java
package umc.study.repository.StoreRepository;

import com.querydsl.core.BooleanBuilder;
import com.querydsl.jpa.impl.JPAQueryFactory;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Repository;
import umc.study.domain.QStore;
import umc.study.domain.Store;

import java.util.List;

@Repository
@RequiredArgsConstructor
public class StoreRepositoryImpl implements StoreRepositoryCustom{
    private final JPAQueryFactory jpaQueryFactory;
    private final QStore store = QStore.store;

    @Override
    public List<Store> dynamicQueryWithBooleanBuilder(String name, Float score) {
        BooleanBuilder predicate = new BooleanBuilder();

        if (name != null) {
            predicate.and(store.name.eq(name));
        }

        if (score != null) {
            predicate.and(store.score.goe(4.0f));
        }

        return jpaQueryFactory
                .selectFrom(store)
                .where(predicate)
                .fetch();
    }
}
```

- `StoreRepository`

ê¸°ì¡´ì˜ StoreRepositoryëŠ” ì´ë ‡ê²Œ ì‘ì„±í•˜ì‹œë©´ ë©ë‹ˆë‹¤â€¼ï¸

---

```java
import org.springframework.data.jpa.repository.JpaRepository;

public interface StoreRepository extends JpaRepository<Store, Long>, StoreRepositoryCustom {
}
```

ì´ì œ ì„œë¹„ìŠ¤ë‹¨ì—ì„œ í˜¸ì¶œí•´ë³¼ê¹Œìš”? 

ê¸°ì¡´ì˜ StoreQueryService ì¸í„°í˜ì´ìŠ¤ì™€ ì´ë¥¼ êµ¬í˜„í•œ StoreQueryServiceImpl êµ¬í˜„ì²´ í´ë˜ìŠ¤ë¥¼ ë´…ì‹œë‹¤.

![image.png](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/image%203.png)

---

- **`StoreQueryService.java (interface)`**

---

```java
package umc.study.service.StoreService;

import umc.study.domain.Store;

import java.util.List;
import java.util.Optional;

public interface StoreQueryService {

    Optional<Store> findStore(Long id);
    List<Store> findStoresByNameAndScore(String name, Float score);
}
```

---

- **`StoreQueryServiceImpl.java`**

---

```java
package umc.study.service.StoreService;

import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import umc.study.domain.Store;
import umc.study.repository.StoreRepository.StoreRepository;

import java.util.List;
import java.util.Optional;

@Service
@RequiredArgsConstructor
@Transactional(readOnly = true)
public class StoreQueryServiceImpl implements StoreQueryService{

    private final StoreRepository storeRepository;

    @Override
    public Optional<Store> findStore(Long id) {
        return storeRepository.findById(id);
    }

    @Override
    public List<Store> findStoresByNameAndScore(String name, Float score) {
        List<Store> filteredStores = storeRepository.dynamicQueryWithBooleanBuilder(name, score);
        
	      filteredStores.forEach(store -> System.out.println("Store: " + store));
				
				return filteredStores;
    }
}
```

í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë”ë¯¸ ë°ì´í„°ë¥¼ SQLë¡œ ì‚½ì…í•´ë³´ê² ìŠµë‹ˆë‹¤. 

```sql
INSERT INTO region (id, name, created_at, updated_at)
VALUES (1, 'ì„œìš¸', NOW(), NOW()),
       (2, 'ë¶€ì‚°', NOW(), NOW()),
       (3, 'ì¸ì²œ', NOW(), NOW());
       
INSERT INTO store (id, name, address, score, region_id, created_at, updated_at)
VALUES (1, 'Store 1', 'ì„œìš¸ì‹œ ì„œëŒ€ë¬¸êµ¬ ì´í™”ì—¬ëŒ€ê¸¸ 52', 4.5, 1, NOW(), NOW()),
       (2, 'Store 2', 'ì„œìš¸ì‹œ ë§ˆí¬êµ¬ ì—°ë‚¨ë™', 3.8, 1, NOW(), NOW()),
       (3, 'Store 3', 'ì„œìš¸ì‹œ ë™ì‘êµ¬ í‘ì„ë™', 2.2, 1, NOW(), NOW()),
       (4, 'ìš”ì•„ì •', 'ì„œìš¸ì‹œ ìš©ì‚°êµ¬ ì´íƒœì›ë™', 4.0, 1, NOW(), NOW()),
       (5, 'ìš”ì•„ì •', 'ì„œìš¸ì‹œ ì„œëŒ€ë¬¸êµ¬ ì´í™”ì—¬ëŒ€ê¸¸ 52', 3.2, 1, NOW(), NOW()),
       (6, 'ìš”ì•„ì •', 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ëŒ€ì¹˜ë™', 4.5, 1, NOW(), NOW());
       
INSERT INTO mission (id, mission_spec, store_id, created_at, updated_at)
VALUES (1, 'Store 1-ë¯¸ì…˜ 1', 1, NOW(), NOW()),
       (2, 'Store 1-ë¯¸ì…˜ 2', 1, NOW(), NOW()),
       (3, 'Store 2-ë¯¸ì…˜ 1', 2, NOW(), NOW()),
       (4, 'Store 3-ë¯¸ì…˜ 1', 3, NOW(), NOW());

INSERT INTO review (id, body, score, store_id, created_at, updated_at)
VALUES (1, 'ë„ˆë¬´ ì¢‹ì•„ìš”!', 5.0, 1, NOW(), NOW()),
       (2, 'ë¶„ìœ„ê¸° ì§±~', 3.0, 1, NOW(), NOW()),
       (3, 'ì„œë¹„ìŠ¤ê°€ ì¢‹ìŠµë‹ˆë‹¤', 4.8, 2, NOW(), NOW()),
       (4, 'ìŒì‹ì´ ë§›ìˆê³  ì‚¬ì¥ë‹˜ì´ ì¹œì ˆí•´ìš”', 4.5, 3, NOW(), NOW());  
```

![image.png](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/image%204.png)

ì´ì œ ì‚½ì…ëœ store ë”ë¯¸ ë°ì´í„° ëª©ë¡ì—ì„œ í‰ì ì´ 4.0ì´ìƒì´ê³ , ì´ë¦„ì´ â€˜ìš”ì•„ì •â€™ì¸ idê°€ 4, 6ë²ˆì¸ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•´ì•¼ê² ì£ ?

ê°„ë‹¨í•˜ê²Œ ì½˜ì†”ì— ë¡œê·¸ë¥¼ ì°ì–´ì£¼ê¸° ìœ„í•´ì„œ, ë„ë©”ì¸ ì½”ë“œì— `toString()` ë©”ì„œë“œë¥¼ ì¬ì •ì˜í• ê²Œìš”.

---

- **`umc/study/domain/Store`**

---

```java
package umc.study.domain;

import lombok.*;
import umc.study.domain.common.BaseEntity;

import jakarta.persistence.*;
import java.util.ArrayList;
import java.util.List;

@Entity
@Getter
@Builder
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@AllArgsConstructor
public class Store extends BaseEntity {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    private String address;

    private Float score;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "region_id")
    private Region region;

    @OneToMany(mappedBy = "store", cascade = CascadeType.ALL)
    private List<Mission> missionList = new ArrayList<>();

    @OneToMany(mappedBy = "store", cascade = CascadeType.ALL)
    private List<Review> reviewList = new ArrayList<>();

    @Override
    public String toString() {
        return "Store{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", address='" + address + '\'' +
                ", score=" + score +
                ", region=" + (region != null ? region.getName() : "N/A") + // regionì˜ ì´ë¦„ ì¶œë ¥
                '}';
    }
}

```

---

- **`umc/study/StudyApplication.java`**

---

```java
package umc.study;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.Bean;
import org.springframework.data.jpa.repository.config.EnableJpaAuditing;
import umc.study.service.StoreService.StoreQueryService;

@SpringBootApplication
@EnableJpaAuditing
public class StudyApplication {

	public static void main(String[] args) {
		SpringApplication.run(StudyApplication.class, args);
	}

	@Bean
	public CommandLineRunner run(ApplicationContext context) {
		return args -> {
			StoreQueryService storeService = context.getBean(StoreQueryService.class);

			// íŒŒë¼ë¯¸í„° ê°’ ì„¤ì •
			String name = "ìš”ì•„ì •";
			Float score = 4.0f;

			// ì¿¼ë¦¬ ë©”ì„œë“œ í˜¸ì¶œ ë° ì¿¼ë¦¬ ë¬¸ìì—´ê³¼ íŒŒë¼ë¯¸í„° ì¶œë ¥
			System.out.println("Executing findStoresByNameAndScore with parameters:");
			System.out.println("Name: " + name);
			System.out.println("Score: " + score);

			storeService.findStoresByNameAndScore(name, score)
					.forEach(System.out::println);
		};
	}}

```

![***ì´ë ‡ê²Œ ë¡œê·¸ ì¶œë ¥ì´ ë˜ì‹œë©´ ì„±ê³µì…ë‹ˆë‹¤!***](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/image%205.png)

***ì´ë ‡ê²Œ ë¡œê·¸ ì¶œë ¥ì´ ë˜ì‹œë©´ ì„±ê³µì…ë‹ˆë‹¤!***

## ğŸ¯í•µì‹¬ í‚¤ì›Œë“œ

---

<aside>
ğŸ’¡ ì£¼ìš” ë‚´ìš©ë“¤ì— ëŒ€í•´ ì¡°ì‚¬í•´ë³´ê³ , ìì‹ ë§Œì˜ ìƒê°ì„ í†µí•´ ì •ë¦¬í•´ë³´ì„¸ìš”!
ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì°¸ê³ í•˜ì—¬ ì •ì˜, ì†ì„±, ì¥ë‹¨ì  ë“±ì„ ì ì–´ì£¼ì…”ë„ ë©ë‹ˆë‹¤.
ì¡°ì‚¬ëŠ” ê³µì‹ í™ˆí˜ì´ì§€ **Best**, ë¸”ë¡œê·¸(ìµœì‹  ë‚ ì§œ) **Not Bad**

</aside>

- **ì§€ì—°ë¡œë”©ê³¼ ì¦‰ì‹œë¡œë”©ì˜ ì°¨ì´**
    
    **ì¦‰ì‹œ ë¡œë”©**: ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ í•¨ê»˜ ë¡œë“œ (ì¥ì : ì¶”ê°€ ì¿¼ë¦¬ ë°œìƒ ë°©ì§€, ë‹¨ì : ë¶ˆí•„ìš”í•œ ë°ì´í„° ë¡œë“œ ê°€ëŠ¥ì„±)
    
    **ì§€ì—° ë¡œë”©**: ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ í•„ìš”í•  ë•Œ ë¡œë“œ (ì¥ì : ì´ˆê¸° ë¡œë“œ ì„±ëŠ¥ ê°œì„ , ë‹¨ì : N+1 ë¬¸ì œ ë°œìƒ ê°€ëŠ¥ì„±)
    
- **Fetch Join**
    
    ì§€ì—° ë¡œë”© ì„¤ì •ì´ ìˆëŠ” ì—”í‹°í‹°ë¥¼ JPQLì—ì„œ í•œ ë²ˆì— ë¡œë“œ
    
- **@EntityGraph**
    
    ë©”ì„œë“œ ë ˆë²¨ì—ì„œ Fetch Joinì„ ì„¤ì •í•˜ëŠ” ë°©ë²•
    
- **JPQL**
    
    JPA ì—”í‹°í‹° ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” SQLê³¼ ìœ ì‚¬í•œ ì¿¼ë¦¬ ì–¸ì–´
    
- **QueryDSL**
    
    íƒ€ì… ì•ˆì „í•˜ê³  ì½”ë“œ ê¸°ë°˜ì˜ ë™ì  ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ë„êµ¬
    

## ğŸ“¢Â í•™ìŠµ í›„ê¸°

---

- ì´ë²ˆ ì£¼ì°¨ ì›Œí¬ë¶ì„ í•´ê²°í•´ë³´ë©´ì„œ ì–´ë• ëŠ”ì§€ íšŒê³ í•´ë´…ì‹œë‹¤.
- í•µì‹¬ í‚¤ì›Œë“œì— ëŒ€í•´ ì™„ë²½í•˜ê²Œ ì´í•´í–ˆëŠ”ì§€? í˜¹ì‹œ ì´í•´ê°€ ì•ˆ ë˜ëŠ” ë¶€ë¶„ì€ ë­ì˜€ëŠ”ì§€?

<aside>
ğŸ’¡

</aside>

## âš ï¸Â ìŠ¤í„°ë”” ì§„í–‰ ë°©ë²•

---

1. ìŠ¤í„°ë””ë¥¼ ì§„í–‰í•˜ê¸° ì „, ì›Œí¬ë¶ ë‚´ìš©ë“¤ì„ ëª¨ë‘ ì±„ìš°ê³  ìŠ¤í„°ë””ì—ì„œëŠ” ì„œë¡œ ëª¨ë¥´ëŠ” ë‚´ìš©ë“¤ì„ ê³µìœ í•´ì£¼ì„¸ìš”.
2. ë¯¸ì…˜ì€ ì›Œí¬ë¶ ë‚´ìš©ë“¤ì„ ëª¨ë‘ ì™„ë£Œí•˜ê³  ë‚˜ì„œ ìŠ¤í„°ë”” ì „/í›„ë¡œ ì§„í–‰í•´ë³´ì„¸ìš”.
3. ë‹¤ìŒì£¼ ìŠ¤í„°ë””ë¥¼ ì§„í–‰í•˜ê¸° ì „, ì§€ë‚œì£¼ ë¯¸ì…˜ì„ ì„œë¡œ ê³µìœ í•´ì„œ ìƒí˜¸ í”¼ë“œë°±ì„ ì§„í–‰í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

## âœ…Â ì‹¤ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

---

## â˜‘ï¸Â ì‹¤ìŠµ ì¸ì¦

---

`feature/week6` ë¸Œëœì¹˜ë¥¼ íŒ í›„ ì‹¤ìŠµ ì½”ë“œë¥¼ ì „ë¶€ ì²¨ë¶€í•˜ì—¬ ì§„í–‰í•´ì£¼ì„¸ìš”. 

## ğŸ”¥Â ë¯¸ì…˜

---

1. N+1 ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ê°€ì§€ ë‹¤ë¥¸ ë°©ë²•ë“¤ì— ëŒ€í•´ ì¡°ì‚¬í•œ í›„, [ í•µì‹¬ í‚¤ì›Œë“œ ] ì— ì •ë¦¬
2. 2ì£¼ì°¨ ë¯¸ì…˜ ë•Œ í–ˆë˜ í•´ë‹¹ í™”ë©´ë“¤ì— ëŒ€í•´ ì‘ì„±í–ˆë˜ ì¿¼ë¦¬ë¥¼ QueryDSLë¡œ ì‘ì„±í•˜ì—¬ ë¦¬íŒ©í† ë§í•˜ê¸°

![ë‚´ê°€ ì§„í–‰ì¤‘, ì§„í–‰ ì™„ë£Œí•œ ë¯¸ì…˜ ëª¨ì•„ì„œ ë³´ëŠ” ì¿¼ë¦¬(í˜ì´ì§• í¬í•¨)](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/Untitled.png)

ë‚´ê°€ ì§„í–‰ì¤‘, ì§„í–‰ ì™„ë£Œí•œ ë¯¸ì…˜ ëª¨ì•„ì„œ ë³´ëŠ” ì¿¼ë¦¬(í˜ì´ì§• í¬í•¨)

![ë¦¬ë·° ì‘ì„±í•˜ëŠ” ì¿¼ë¦¬,
* ì‚¬ì§„ì˜ ê²½ìš°ëŠ” ì¼ë‹¨ ë°°ì œ](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/Untitled%201.png)

ë¦¬ë·° ì‘ì„±í•˜ëŠ” ì¿¼ë¦¬,
* ì‚¬ì§„ì˜ ê²½ìš°ëŠ” ì¼ë‹¨ ë°°ì œ

![í™ˆ í™”ë©´ ì¿¼ë¦¬
(í˜„ì¬ ì„ íƒ ëœ ì§€ì—­ì—ì„œ ë„ì „ì´ ê°€ëŠ¥í•œ ë¯¸ì…˜ ëª©ë¡, í˜ì´ì§• í¬í•¨)](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/Untitled%202.png)

í™ˆ í™”ë©´ ì¿¼ë¦¬
(í˜„ì¬ ì„ íƒ ëœ ì§€ì—­ì—ì„œ ë„ì „ì´ ê°€ëŠ¥í•œ ë¯¸ì…˜ ëª©ë¡, í˜ì´ì§• í¬í•¨)

![ë§ˆì´ í˜ì´ì§€ í™”ë©´ ì¿¼ë¦¬](Chapter%206%20JPA%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%20(1)%206ef460c6c29c4e99b45a6257e18b71ba/Untitled%203.png)

ë§ˆì´ í˜ì´ì§€ í™”ë©´ ì¿¼ë¦¬

# ğŸ’ªÂ ë¯¸ì…˜ ê¸°ë¡

---

<aside>
ğŸ€ ë¯¸ì…˜ ê¸°ë¡ì˜ ê²½ìš°, ì•„ë˜ ë¯¸ì…˜ ê¸°ë¡ í† ê¸€ ì†ì— ì‘ì„±í•˜ì‹œê±°ë‚˜, í˜ì´ì§€ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì—¬ í•´ë‹¹ í˜ì´ì§€ì— ê¸°ë¡í•˜ì—¬ë„ ì¢‹ìŠµë‹ˆë‹¤!

í•˜ì§€ë§Œ, ê²°ê³¼ë¬¼ë§Œ ì˜¬ë¦¬ëŠ” ê²ƒì´ ì•„ë‹Œ, **ì¤‘ê°„ ê³¼ì • ëª¨ë‘ ê¸°ë¡í•˜ì…”ì•¼ í•œë‹¤ëŠ” ì !** ìŠì§€ ë§ì•„ì£¼ì„¸ìš”.

</aside>

- **ë¯¸ì…˜ ê¸°ë¡**

## âš¡ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

---

<aside>
ğŸ’¡ ì‹¤ìŠµí•˜ë©´ì„œ ìƒê¸´ ë¬¸ì œë“¤ì— ëŒ€í•´ì„œ, **ì´ìŠˆ - ë¬¸ì œ - í•´ê²°** ìˆœì„œë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.

</aside>

<aside>
ğŸ’¡ ìŠ¤ìŠ¤ë¡œ í•´ê²°í•˜ê¸° ì–´ë µë‹¤ë©´? ìŠ¤í„°ë””ì›ë“¤ì—ê²Œ ë„ì›€ì„ ìš”ì²­í•˜ê±°ë‚˜ **ë„ˆë””ë„ˆë¦¬ì˜ ì§€ì‹IN ì±„ë„ì— ì§ˆë¬¸**í•´ë³´ì„¸ìš”!

</aside>

- âš¡ì´ìŠˆ ì‘ì„± ì˜ˆì‹œ (ì´ìŠˆê°€ ìƒê¸°ë©´ ì•„ë˜ë¥¼ ë³µì‚¬í•´ì„œ No.1, No.2, No3 â€¦ ìœ¼ë¡œ ì‘ì„±í•´ì„œ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ì„ ê¼­ í•´ë³´ì„¸ìš”!)
    
    **`ì´ìŠˆ`**
    
    ğŸ‘‰ ì•± ì‹¤í–‰ ì¤‘ì— ë…¸ë˜ ë‹¤ìŒ ë²„íŠ¼ì„ ëˆ„ë¥´ë‹ˆê¹Œ ì•±ì´ ì¢…ë£Œë˜ì—ˆë‹¤.
    
    **`ë¬¸ì œ`**
    
    ğŸ‘‰ ë…¸ë˜í´ë˜ìŠ¤ì˜ ë°ì´í„°ë¦¬ìŠ¤íŠ¸ì˜ Sizeë¥¼ ë„˜ì–´ì„œ NullPointExceptionì´ ë°œìƒí•˜ì—¬ ì•±ì´ ì¢…ë£Œëœ ê²ƒì´ì—ˆë‹¤. 
    
    **`í•´ê²°`**
    
    ğŸ‘‰  ë…¸ë˜ ë‹¤ìŒ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ë°ì´í„°ë¦¬ìŠ¤íŠ¸ì˜ Sizeë¥¼ ê²€ì‚¬í•´ Sizeë³´ë‹¤ ë„˜ì–´ê°€ë ¤ê³  í•˜ë©´ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” ë©”ì„œë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ì§€ ì•Šê³ , ì²« ë…¸ë˜ë¡œ ëŒì•„ê°€ê²Œë” í•´ê²°
    
    **`ì°¸ê³ ë ˆí¼ëŸ°ìŠ¤`**
    
    - ë§í¬
- âš¡ì´ìŠˆ No.1
    
    **`ì´ìŠˆ`**
    
    ğŸ‘‰ [íŠ¸ëŸ¬ë¸”ì´ ìƒê¸´ ìƒíƒœ ì‘ì„±]
    
    **`ë¬¸ì œ`**
    
    ğŸ‘‰ [ì–´ë–¤ ì´ìœ ë¡œ í•´ë‹¹ ì´ìŠˆê°€ ì¼ì–´ë‚¬ëŠ”ì§€ ì‘ì„±]
    
    **`í•´ê²°`**
    
    ğŸ‘‰  [í•´ê²° ë°©ë²• ì‘ì„±]
    
    **`ì°¸ê³ ë ˆí¼ëŸ°ìŠ¤`**
    
    - [ë¬¸ì œ í•´ê²° ì‹œ ì°¸ê³ í•œ ë§í¬]

## ğŸ¤”Â ì°¸ê³  ìë£Œ

---

Copyright Â© 2024 ì‹ ìˆ˜ì •(ë² ë‰´) All rights reserved.